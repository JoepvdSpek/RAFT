type: input file for RAFT
name: IEA 15 MW with VolturnUS-S steel semi
comments: Revised example with "super-member" type inputs, including one for the tower

turbine:
    
    mRNA          :     991000        #  [kg]       RNA mass 
    IxRNA         :          0        #  [kg-m2]    RNA moment of inertia about local x axis (assumed to be identical to rotor axis for now, as approx) [kg-m^2]
    IrRNA         :          0        #  [kg-m2]    RNA moment of inertia about local y or z axes [kg-m^2]
    xCG_RNA       :          0        #  [m]        x location of RNA center of mass [m] (Actual is ~= -0.27 m)
    hHub          :        150.0      #  [m]        hub height above water line [m]
    Fthrust       :       1500.0E3    #  [N]        temporary thrust force to use
    
    
    
    I_drivetrain: 318628138.0   # full rotor + drivetrain inertia as felt on the high-speed shaft
        
    pitch_control:   # blade pitch PI controller gains scheduled according to pitch operating point
        GS_Angles: [0.08951732571568687, 0.11113133201402342, 0.12982917355231283, 0.1466420801733839, 0.16211366466881905, 0.17655839335287876, 0.19019635501633186, 0.2031735797715147, 0.2155988980768675, 0.22755610891787487, 0.23910432007046029, 0.25029505429019794, 0.261175108296815, 0.2717701141434908, 0.2821130743895577, 0.2922299908966622, 0.30213155066939196, 0.3118425748263288, 0.32137789704483055, 0.3307503670667345, 0.3399699865577445, 0.3490461860239008, 0.3579880322509144, 0.3668047339186282, 0.37550289814624044, 0.3840890078940221, 0.3925675520014984, 0.4009446279452681]
        GS_Kp: [-1.3577105502989462, -1.2022843685437077, -1.0708549194177244, -0.9582630743745694, -0.8607297095205451, -0.7754232092569442, -0.7001800303510133, -0.6333186502486411, -0.5735124113109392, -0.5197005998242658, -0.47102498684717165, -0.42678371240552293, -0.3863972240349146, -0.3493827470593987, -0.3153348933114633, -0.2839107527034031, -0.25481830344353146, -0.22780730986914496, -0.20266210648191768, -0.17919582739515136, -0.1572457543239439, -0.13666953808436225, -0.11734210805288207, -0.09915312775509398, -0.0820048872139108, -0.06581054702303714, -0.05049266752014871, -0.035981970477687836]
        GS_Ki: [-0.17894491650627248, -0.16397538879097576, -0.1513170531162574, -0.14047301946725416, -0.13107930991420289, -0.12286320368570448, -0.11561632391744817, -0.10917671849690443, -0.1034166133382032, -0.09823384815435132, -0.09354576452975885, -0.08928476437884968, -0.08539502939237623, -0.08183006219898042, -0.07855081873709882, -0.07552427238274959, -0.07272229770523143, -0.07012079381210852, -0.06769898935959591, -0.06543888677457954, -0.06332481420661495, -0.06134306161000666, -0.05948158308525387, -0.057729751819724194, -0.05607815709384934, -0.054518435162958796, -0.0530431275978591, -0.05164556201983143]
    wt_ops:          
        v: [3.0, 3.266896551724138, 3.533793103448276, 3.800689655172414, 4.067586206896552, 4.334482758620689, 4.601379310344828, 4.868275862068966, 5.135172413793104, 5.402068965517241, 5.6689655172413795, 5.935862068965518, 6.2027586206896554, 6.469655172413793, 6.736551724137931, 7.00344827586207, 7.270344827586207, 7.537241379310345, 7.804137931034483, 8.071034482758622, 8.337931034482759, 8.604827586206897, 8.871724137931036, 9.138620689655173, 9.405517241379311, 9.672413793103448, 9.939310344827586, 10.206206896551725, 10.473103448275863, 10.74, 11.231724137931035, 11.723448275862069, 12.215172413793104, 12.706896551724139, 13.198620689655172, 13.690344827586207, 14.182068965517242, 14.673793103448276, 15.16551724137931, 15.657241379310346, 16.14896551724138, 16.640689655172416, 17.13241379310345, 17.624137931034483, 18.11586206896552, 18.607586206896553, 19.099310344827586, 19.591034482758623, 20.082758620689653, 20.57448275862069, 21.066206896551726, 21.557931034482756, 22.049655172413793, 22.54137931034483, 23.03310344827586, 23.524827586206897, 24.016551724137933, 24.508275862068963, 25.0]
        pitch_op: [-0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, -0.004363323129985824, 0.062334863771766655, 0.08951732571568687, 0.11113133201402342, 0.12982917355231283, 0.1466420801733839, 0.16211366466881905, 0.17655839335287876, 0.19019635501633186, 0.2031735797715147, 0.2155988980768675, 0.22755610891787487, 0.23910432007046029, 0.25029505429019794, 0.261175108296815, 0.2717701141434908, 0.2821130743895577, 0.2922299908966622, 0.30213155066939196, 0.3118425748263288, 0.32137789704483055, 0.3307503670667345, 0.3399699865577445, 0.3490461860239008, 0.3579880322509144, 0.3668047339186282, 0.37550289814624044, 0.3840890078940221, 0.3925675520014984, 0.4009446279452681]
        omega_op: [0.225, 0.24501724137931033, 0.2650344827586207, 0.28505172413793106, 0.3050689655172414, 0.3250862068965517, 0.34510344827586203, 0.36512068965517247, 0.38513793103448274, 0.4051551724137931, 0.4251724137931035, 0.4451896551724139, 0.46520689655172415, 0.48522413793103447, 0.5052413793103449, 0.5252586206896552, 0.5452758620689655, 0.5652931034482759, 0.5853103448275863, 0.6053275862068966, 0.625344827586207, 0.6453620689655172, 0.6653793103448277, 0.6853965517241379, 0.7054137931034483, 0.7254310344827586, 0.745448275862069, 0.7654655172413793, 0.7854827586206897, 0.7916813478, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999998, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999, 0.7916813477999999]
        
    
    tower:  # (could remove some entries that don't apply for the tower)
        name      :  tower                     # [-]    an identifier (no longer has to be number)       
        type      :  1                         # [-]    
        rA        :  [ 0, 0,  15]              # [m]    end A coordinates
        rB        :  [ 0, 0, 144.582]          # [m]    and B coordinates
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]   twist angle about the member's z-axis
        
        # --- outer shell including hydro---
        stations  :  [ 15,  28,  28.001,  41,  41.001,  54,  54.001,  67,  67.001,  80,  80.001,  93,  93.001,  106,  106.001,  119,  119.001,  132,  132.001,  144.582 ]    # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  [ 10,  9.964,  9.964,  9.967,  9.967,  9.927,  9.927,  9.528,  9.528,  9.149,  9.149,  8.945,  8.945,  8.735,  8.735,  8.405,  8.405,  7.321,  7.321,  6.5 ]    # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  [ 0.082954,  0.082954,  0.083073,  0.083073,  0.082799,  0.082799,  0.0299,  0.0299,  0.027842,  0.027842,  0.025567,  0.025567,  0.022854,  0.022854,  0.02025,  0.02025,  0.018339,  0.018339,  0.021211,  0.021211 ]                     # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.0                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  0.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        # (neglecting axial coefficients for now)
        CdEnd     :  0.0                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.0                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3]   material density
            






platform:

    members:   # list all members here
        
      - name      :  center_column             # [-]    an identifier (no longer has to be number)       
        type      :  2                         # [-]    
        rA        :  [ 0, 0, -20]              # [m]    end A coordinates
        rB        :  [ 0, 0,  15]              # [m]    and B coordinates
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  True                      # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 1]                    # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  10.0                      # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.05                      # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3] 
        # --- handling of end caps or any internal structures if we need them ---
        cap_stations :  [ 0    ]               # [m]  location along member of any inner structures (in same scaling as set by 'stations')
        cap_t        :  [ 0.001  ]             # [m]  thickness of any internal structures
        cap_d_in     :  [ 0    ]               # [m]  inner diameter of internal structures (0 for full cap/bulkhead, >0 for a ring shape)

        
      - name      :  outer_column              # [-]    an identifier (no longer has to be number)       
        type      :  2                         # [-]    
        rA        :  [51.75, 0, -20]           # [m]    end A coordinates
        rB        :  [51.75, 0,  15]           # [m]    and B coordinates
        heading   :  [ 60, 180, 300]           # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  True                      # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 1]                    # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  12.5                      # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.05                      # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3] 
        # --- ballast ---
        l_fill    :  1.4                       # [m]
        rho_fill  :  5000                      # [kg/m3]
        # --- handling of end caps or any internal structures if we need them ---
        cap_stations :  [ 0    ]               # [m]  location along member of any inner structures (in same scaling as set by 'stations')
        cap_t        :  [ 0.001  ]             # [m]  thickness of any internal structures
        cap_d_in     :  [ 0    ]               # [m]  inner diameter of internal structures (0 for full cap/bulkhead, >0 for a ring shape)

        
      - name      :  pontoon                   # [-]    an identifier (no longer has to be number)       
        type      :  2                         # [-]    
        rA        :  [  5  , 0, -16.5]         # [m]    end A coordinates
        rB        :  [ 45.5, 0, -16.5]         # [m]    and B coordinates
        heading   :  [ 60, 180, 300]           # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  rect                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  False                     # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 1]                    # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  [12.5, 7.0]               # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.05                      # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3]
        l_fill    :  43.0                      # [m]
        rho_fill  :  1025.0                    # [kg/m3]
        
        
      - name      :  upper_support             # [-]    an identifier (no longer has to be number)       
        type      :  2                         # [-]    
        rA        :  [  5  , 0, 14.545]        # [m]    end A coordinates
        rB        :  [ 45.5, 0, 14.545]        # [m]    and B coordinates
        heading   :  [ 60, 180, 300]           # [deg]  heading rotation of column about z axis (for repeated members)
        shape     :  circ                      # [-]    circular or rectangular
        gamma     :  0.0                       # [deg]  twist angle about the member's z-axis
        potMod    :  False                     # [bool] Whether to model the member with potential flow (BEM model) plus viscous drag or purely strip theory
        # --- outer shell including hydro---
        stations  :  [0, 1]                    # [-]    location of stations along axis. Will be normalized such that start value maps to rA and end value to rB
        d         :  0.91                      # [m]    diameters if circular or side lengths if rectangular (can be pairs)
        t         :  0.01                      # [m]    wall thicknesses (scalar or list of same length as stations)
        Cd        :  0.8                       # [-]    transverse drag coefficient       (optional, scalar or list of same length as stations)
        Ca        :  1.0                       # [-]    transverse added mass coefficient (optional, scalar or list of same length as stations)
        CdEnd     :  0.6                       # [-]    end axial drag coefficient        (optional, scalar or list of same length as stations)
        CaEnd     :  0.6                       # [-]    end axial added mass coefficient  (optional, scalar or list of same length as stations)
        rho_shell :  7850                      # [kg/m3] 
     

mooring:
    water_depth: 200                                  # [m]       uniform water depth
    
    points:
        - name: line1_anchor
          type: fixed
          location: [-837, 0.0, -200.0]
          anchor_type: drag_embedment

        - name: line2_anchor
          type: fixed
          location: [418, 725, -200.0]
          anchor_type: drag_embedment

        - name: line3_anchor
          type: fixed
          location: [418, -725, -200.0]
          anchor_type: drag_embedment

        - name: line1_vessel
          type: vessel
          location: [-58,      0.0,     -14.0]

        - name: line2_vessel
          type: vessel
          location: [29,      50,     -14.0]

        - name: line3_vessel
          type: vessel
          location: [29,     -50,     -14.0]

    lines:
        - name: line1
          endA: line1_anchor
          endB: line1_vessel
          type: chain
          length: 850

        - name: line2
          endA: line2_anchor
          endB: line2_vessel
          type: chain
          length: 850

        - name: line3
          endA: line3_anchor
          endB: line3_vessel
          type: chain
          length: 850

    line_types:
        - name: chain
          diameter:         0.185
          mass_density:   685.0
          stiffness:     3270e6
          breaking_load:    1e8
          cost: 100.0
          transverse_added_mass: 1.0
          tangential_added_mass: 0.0
          transverse_drag: 1.6
          tangential_drag: 0.1

    anchor_types:
        - name: drag_embedment
          mass: 1e3
          cost: 1e4
          max_vertical_load: 0.0
          max_lateral_load: 1e5
    